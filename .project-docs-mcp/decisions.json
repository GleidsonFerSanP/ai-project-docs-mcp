{
  "decisions": [
    {
      "title": "Storage com JSON files",
      "context": "Escolha de storage para knowledge base",
      "decision": "Usar JSON files locais em ~/.project-docs-mcp/knowledge",
      "consequences": {
        "positive": [
          "Zero dependências externas",
          "Portabilidade total",
          "Human-readable",
          "Backup simples"
        ],
        "negative": [
          "Sem queries complexas",
          "Performance degrada com muitos projetos"
        ]
      },
      "alternatives": [
        "SQLite database",
        "MongoDB",
        "JSON files"
      ],
      "status": "accepted",
      "id": "ADR-001",
      "createdAt": "2026-01-05T00:28:20.804Z"
    },
    {
      "title": "Interface MCP: Botão vs Chat Participant",
      "context": "GitHub Copilot suporta duas formas de invocar MCPs: via botão MCP na UI ou via chat participants (@-mention). Azure MCP usa participant registration.",
      "decision": "Por enquanto usar apenas botão MCP, investigar participant registration para versão futura",
      "consequences": {
        "positive": [
          "Implementação mais simples",
          "Funciona imediatamente após instalação",
          "Sem necessidade de API adicional do VS Code"
        ],
        "negative": [
          "Usuários precisam clicar no botão MCP",
          "Sintaxe @project-docs não funciona ainda",
          "Menos conveniente que Azure MCP"
        ]
      },
      "alternatives": [
        "Chat participant (@-mention)",
        "Apenas botão MCP",
        "Ambos: participant + botão MCP"
      ],
      "status": "accepted",
      "id": "ADR-002",
      "createdAt": "2026-01-05T00:47:25.213Z"
    },
    {
      "title": "Conversão Explícita de Dates após JSON.parse() em todos os Load Methods",
      "context": "Bug crítico identificado: JSON.parse() sempre retorna strings para campos Date, causando erro `.getTime() is not a function` quando o código tenta usar métodos de Date. Solução: todos os load methods (loadContracts, loadPatterns, loadDecisions, loadFeatures, loadDocumentation, loadGlobalGuidelines) devem converter explicitamente strings para Date objects após desserialização.",
      "decision": "Todos os métodos que carregam dados do JSON (load*) devem incluir conversão explícita de campos Date. Pattern:\n```typescript\nconst parsed = JSON.parse(data);\nObject.values(parsed).forEach((item: any) => {\n  if (item.createdAt && typeof item.createdAt === 'string') {\n    item.createdAt = new Date(item.createdAt);\n  }\n  if (item.updatedAt && typeof item.updatedAt === 'string') {\n    item.updatedAt = new Date(item.updatedAt);\n  }\n});\nreturn parsed;\n```\n\nEste pattern foi aplicado em:\n- loadContracts() - createdAt, updatedAt\n- loadPatterns() - createdAt\n- loadDecisions() - createdAt\n- loadFeatures() - createdAt, updatedAt\n- loadDocumentation() - createdAt, lastUpdated\n- loadGlobalGuidelines() - createdAt, updatedAt",
      "consequences": {
        "positive": [
          "Elimina erros de runtime com .getTime() e outros métodos de Date",
          "Pattern consistente em toda a codebase",
          "Sem dependências externas",
          "Type-safe após conversão"
        ],
        "negative": [
          "Código boilerplate em cada load method",
          "Performance overhead (conversão a cada load)",
          "Precisa lembrar de adicionar em novos load methods"
        ]
      },
      "alternatives": [
        "Usar biblioteca como date-fns para serialização customizada",
        "Criar middleware de serialização/deserialização global",
        "Usar decorators TypeScript para auto-conversão"
      ],
      "status": "accepted",
      "id": "ADR-003",
      "createdAt": "2026-01-05T01:01:35.328Z"
    },
    {
      "title": "Registro de MCP via VS Code Extension API",
      "context": "Decisão sobre como distribuir e registrar o MCP Server no VS Code. Usuários tinham dificuldade com paths absolutos quebrando ao mover pastas e configuração manual ser propensa a erros.",
      "decision": "Adotar registro de MCP via extensão do VS Code usando vscode.lm.registerMcpServerDefinitionProvider ao invés de configuração manual em mcpServers.json. O MCP Server é empacotado junto com a extensão e o path é gerenciado automaticamente via context.extensionPath.",
      "consequences": {
        "positive": [
          "Zero configuração - usuário só instala extensão",
          "Path sempre correto (relativo à extensão)",
          "Portável - funciona em qualquer máquina sem reconfiguração",
          "Atualizável via Marketplace",
          "Logging integrado ao VS Code Output",
          "Processo MCP isolado e gerenciado pelo VS Code"
        ],
        "negative": [
          "MCP não aparece na lista 'MCP Servers Installed' do Copilot (pode confundir usuários)",
          "Mais complexo de debugar (precisa usar Output Channel)",
          "Requer entendimento da VS Code Extension API"
        ]
      },
      "alternatives": [
        "Modo Manual: usuário edita mcpServers.json manualmente",
        "Modo Extensão: registro programático via API (escolhido)",
        "Hybrid: suportar ambos os modos"
      ],
      "status": "accepted",
      "id": "ADR-004",
      "createdAt": "2026-01-13T01:21:26.869Z"
    },
    {
      "title": "Rebranding: project-docs-mcp → ai-project-context",
      "context": "Com a adição de session focus management e integração profunda com GitHub Copilot, o nome 'project-docs-mcp' estava muito limitado. O MCP agora fornece muito mais que documentação - fornece contexto completo, foco conversacional, validação de contratos e guidelines.",
      "decision": "Renomear extensão de 'project-docs-mcp' para 'ai-project-context' na versão 1.4.0, refletindo melhor o propósito de fornecer contexto completo para AI agents. Atualizar sistematicamente: package name, display name, MCP ID, comandos, configurações, README e @mentions.",
      "consequences": {
        "positive": [
          "Nome reflete melhor funcionalidade real",
          "Mais claro para novos usuários o que a extensão faz",
          "Alinhado com evolução do produto (session focus, Copilot integration)",
          "MCP ID mais descritivo (@ai-project-context)",
          "Posicionamento melhor no Marketplace"
        ],
        "negative": [
          "Usuários existentes precisam desinstalar versão antiga",
          "Possível confusão inicial sobre novo nome",
          "Documentação externa com nome antigo fica desatualizada",
          "Cache do VS Code pode manter referências antigas"
        ]
      },
      "alternatives": [
        "Manter nome 'project-docs-mcp' (foco em documentação)",
        "Renomear para 'ai-project-context' (foco em contexto para AI) - escolhido",
        "Renomear para 'ai-project-assistant'"
      ],
      "status": "accepted",
      "id": "ADR-005",
      "createdAt": "2026-01-13T01:21:27.898Z"
    },
    {
      "title": "Sistema de Logging via VS Code OutputChannel",
      "context": "Durante debugging da extensão, faltava visibilidade sobre o que estava acontecendo durante ativação e registro do MCP. console.log ia para Developer Tools, difícil de categorizar e filtrar. Inspiração veio do MCP Image Reader que usa OutputChannel.",
      "decision": "Implementar sistema de logging categorizado usando VS Code LogOutputChannel API com 5 níveis (info, warning, error, debug, success), timestamps automáticos, emojis visuais e painel dedicado 'AI Project Context' acessível via Cmd+Shift+U.",
      "consequences": {
        "positive": [
          "Diagnóstico muito mais fácil de problemas",
          "Categorização automática por nível",
          "Integrado nativamente ao VS Code",
          "Timestamps precisos em todas as mensagens",
          "Visual limpo com emojis indicadores",
          "Não polui Developer Tools",
          "Padrão consistente com outras extensões de qualidade"
        ],
        "negative": [
          "Adiciona pequena overhead ao código",
          "Usuários precisam saber onde encontrar logs (Output panel)",
          "Logs não persistem entre sessões do VS Code"
        ]
      },
      "alternatives": [
        "Usar console.log tradicional",
        "Implementar logger customizado com arquivo",
        "Usar VS Code OutputChannel (escolhido)"
      ],
      "status": "accepted",
      "id": "ADR-006",
      "createdAt": "2026-01-13T01:21:29.189Z"
    }
  ],
  "lastUpdated": "2026-01-13T01:21:29.189Z",
  "version": "1.0.0"
}